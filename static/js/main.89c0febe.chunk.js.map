{"version":3,"sources":["containers/Coupon.jsx","components/InputPageInfo.jsx","reducers/datas.jsx","containers/MakeSub.jsx","containers/SelectPage.jsx","components/SelectBranch.jsx","components/ExportExcel.jsx","pages/MainPage.jsx","App.js","reducers/index.jsx","index.js"],"names":["InputNum","styled","input","Col","div","Row","CouponMake","p","Coupon","couponArrTxt","setCouponArrTxt","useState","row","col","coupon","setCoupon","couponArr","setCouponArr","couponBarcode","setCouponBarcode","useEffect","Array","fill","map","rowTxt","style","paddingBottom","type","min","onChange","e","target","value","hello","rowIdx","display","alignItems","margin","colIdx","textAlign","onClick","arrs","arr","onClickCoupon","marginTop","arrtxt","arrtxtLast","forEach","idx","idx2","substr","length","push","txt","고객군","readOnly","width","height","InputTitle","InputPageInfo","page","pageNum","pages","className","SET_BRANCH","SET_SUBPAGE_NUM","SET_SUB_TITLE","SET_MAINPAGE_NUM","setSubTitle","data","initialState","br","code","text","mainpage","subpage","subtitle","reducer","state","action","MakeSubBlock","MakeSub","cnt","datas","useSelector","subTitle","sub","setSub","dispatch","useDispatch","_subpage","_title","title","background","border","borderRadius","SelectPageBlock","section","SelectPage","BranchBlock","Branch","SelectBranch","nowBranch","setBranch","onSetBranch","branch","borderColor","color","Button","button","ExportExcel","mainNum","slice","join","mainData","setMainData","menuGroup","slides","exportDataToXlsx","couponData","filename","new_workbook","XLSX","utils","book_new","worksheetMain","json_to_sheet","book_append_sheet","worksheetSub","worksheetCoupon","writeFile","document","querySelectorAll","subText","MainPageBlock","MainPage","App","rootReducer","combineReducers","store","createStore","composeWithDevTools","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.89c0febe.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\n\r\nconst InputNum = styled.input`\r\n    width: 30px;\r\n    line-height: 30px;\r\n    text-align: right;\r\n    margin-right: 5px;\r\n`;\r\n\r\nconst Col = styled.div`\r\n    display:flex;\r\n`;\r\n\r\nconst Row = styled.input`\r\n    background: gray;\r\n    width: 30px;\r\n    height: 30px;\r\n    margin: 5px;\r\n    display: block;\r\n`;\r\n\r\nconst CouponMake = styled.p`\r\n    margin: 0;\r\n    width: 100px;\r\n    background: #eee;\r\n    text-align: center;\r\n    line-height: 33px;\r\n    border: 1px solid #aaa;\r\n    cursor: pointer;\r\n    &:hover{\r\n        background: #ccc;\r\n    }\r\n`;\r\n\r\nconst Coupon = ({couponArrTxt, setCouponArrTxt})=>{\r\n    \r\n    const [coupon, setCoupon] = useState({\r\n        row: 0,\r\n        col: 0\r\n    });\r\n\r\n    const [couponArr, setCouponArr] = useState([]);\r\n    const [couponBarcode, setCouponBarcode] = useState('');\r\n    \r\n    const onChangeRow = (e)=>{\r\n        setCoupon({\r\n            ...coupon,\r\n            row: e.target.value*1\r\n        })\r\n    }\r\n\r\n    const onChangeCol = (e)=>{\r\n        setCoupon({\r\n            ...coupon,\r\n            col: e.target.value*1\r\n        })\r\n    }\r\n\r\n    const onChangeBarcode = (e)=>{\r\n        setCouponBarcode(e.target.value)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        setCouponArr(\r\n            Array(coupon.row).fill('a').map((rowTxt)=>\r\n                rowTxt = Array(coupon.col).fill(0)\r\n            )\r\n        )\r\n    },[coupon])\r\n\r\n    const couponMake = ()=>{\r\n        let arrtxt = '';\r\n        let arrtxtLast = '';\r\n        let arr = [];\r\n        \r\n        couponArr.forEach((arrs,idx)=>{\r\n            arrtxt='';\r\n            arrtxt += (idx<9?`0${idx+1}`:idx+1) + \" : [\";\r\n            arrs.forEach((arr,idx2)=>{\r\n                if(arr === 1) arrtxt += (idx2)<9?`\"0${idx2+1}\",`:`\"${idx2+1}\",`;\r\n            })\r\n            if(arrtxt.substr(arrtxt.length-1, 1) !== '[') arrtxt = arrtxt.substr(0, arrtxt.length-1);\r\n            arrtxt += \"]\";\r\n            idx===0\r\n            ?arr.push({ \r\n                \"고객군\" : arrtxt, \r\n                \"주차 쿠폰 번호\": couponBarcode !== '' && (couponBarcode*1)<9?`0${couponBarcode}`:couponBarcode, \r\n                \"마지막 그룹 번호\": couponArr.length<10?`0${couponArr.length}`:couponArr.length, \r\n                \"버튼 없는 쿠폰 번호\": '[]'\r\n            })\r\n            :arr.push({ \"고객군\" : arrtxt });\r\n        });\r\n\r\n        //마지막 쿠폰번호 고객군\r\n        arrtxtLast += (couponArr.length<9?`0${couponArr.length+1}`:couponArr.length+1) + \" : [\";\r\n        couponArr[0].forEach((arr,idx2)=>{\r\n            arrtxtLast += (idx2)<9?`\"0${idx2+1}\",`:`\"${idx2+1}\",`;\r\n        })\r\n        if(arrtxtLast.substr(arrtxtLast.length-1, 1) !== '[') arrtxtLast = arrtxtLast.substr(0, arrtxtLast.length-1);\r\n        arrtxtLast += \"]\";\r\n        \r\n        arr.push({ \"고객군\" : arrtxtLast });\r\n        setCouponArrTxt(arr);\r\n    }\r\n\r\n    const onClickCoupon = (rowIdx, colIdx)=>{\r\n        setCouponArr(\r\n            couponArr.map((arrs, row)=>{\r\n                return arrs.map((arr, col)=>{\r\n                    if(row === rowIdx && col === colIdx) return arr===0?1:0;\r\n                    else return arr;\r\n                })\r\n            })\r\n        );\r\n    }\r\n\r\n    return(\r\n        <section style={{paddingBottom: 30}}>\r\n            <h3>쿠폰</h3>\r\n                <div>\r\n                    <label>고객군수 <InputNum type=\"number\" min=\"0\" onChange={onChangeRow}/></label>\r\n                    <label>쿠폰수 <InputNum type=\"number\" min=\"0\" onChange={onChangeCol}/></label>\r\n                    <label>바코드쿠폰 <InputNum type=\"number\" min=\"0\" onChange={onChangeBarcode}/></label>\r\n                \r\n                    {Array(coupon.row).fill('a').map((hello, rowIdx)=>\r\n                        <Col key={rowIdx}>\r\n                            <span style={{\r\n                                display: 'flex',\r\n                                alignItems: 'flex-end',\r\n                                margin: '0 10px 10px 0'\r\n                            }}>\r\n                                {rowIdx<9?`0${rowIdx+1}`:rowIdx+1}\r\n                            </span>\r\n                            {Array(coupon.col).fill(0).map((hello, colIdx)=>\r\n                                <div key={colIdx} >\r\n                                    {rowIdx === 0 && \r\n                                    <p style={{ \r\n                                        textAlign: 'center'\r\n                                    }}>\r\n                                        {colIdx<9?`0${colIdx+1}`:colIdx+1}\r\n                                    </p>}\r\n                                    <Row \r\n                                        type=\"checkbox\" min=\"0\" \r\n                                        onClick={()=>{onClickCoupon(rowIdx, colIdx)}}\r\n                                    />\r\n                                </div>\r\n                            )}\r\n                        </Col>\r\n                    )}\r\n                \r\n                </div>\r\n                <div style={{marginTop:20}}>\r\n                    <CouponMake onClick={couponMake}>쿠폰MAKE!</CouponMake>\r\n                    <textarea value={couponArrTxt.map((txt)=>txt.고객군)} readOnly style={{marginTop: 10, width: '100%', height: 100}}></textarea>\r\n                </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Coupon;","import React from 'react';\r\nimport styled from 'styled-components';\r\n\r\nconst InputTitle = styled.input`\r\n    width: 97%;\r\n    line-height: 30px;\r\n    margin:5px 0;\r\n    display: block;\r\n`;\r\n\r\nconst InputPageInfo = ({page, pageNum})=>{\r\n    const pages = `sub${pageNum}`;\r\n\r\n    return(\r\n        <div>\r\n            {Array(page).fill('a').map((hello, idx)=>\r\n                <InputTitle key={idx} className={pages} />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default InputPageInfo;","export const SET_BRANCH = 'SET_BRANCH';\r\nexport const SET_SUBPAGE_NUM = 'SET_SUBPAGE_NUM';\r\nexport const SET_SUB_TITLE = 'SET_SUB_TITLE';\r\nexport const SET_MAINPAGE_NUM = 'SET_MAINPAGE_NUM';\r\n\r\nexport const setPageBranch = (data)=>({\r\n    type: SET_BRANCH,\r\n    data, \r\n});\r\nexport const setSubpageNum = (data)=>({\r\n    type: SET_SUBPAGE_NUM,\r\n    data, \r\n});\r\nexport const setSubTitle = (data)=>({\r\n    type: SET_SUB_TITLE,\r\n    data, \r\n});\r\nexport const setMainpageNum = (data)=>({\r\n    type: SET_MAINPAGE_NUM,\r\n    data, \r\n});\r\n\r\nconst initialState = {\r\n    br: {code:'bd', text:'분당'},\r\n    mainpage: 4,\r\n    subpage: [2,5,5,3],\r\n    subtitle: ['사은행사 & MY 쿠폰','이벤트 & 특가','쇼핑뉴스','분당의 부엌'],\r\n}\r\n\r\nconst reducer = (state = initialState, action)=>{\r\n    switch (action.type){\r\n        case SET_BRANCH:\r\n            return {\r\n                ...state,\r\n                br: action.data\r\n            };\r\n        case SET_SUBPAGE_NUM:\r\n            return {\r\n                ...state,\r\n                subpage: action.data\r\n            };\r\n        case SET_SUB_TITLE:\r\n            return { \r\n                ...state,\r\n                subtitle: action.data\r\n            };\r\n        case SET_MAINPAGE_NUM:\r\n            return {\r\n                ...state,\r\n                mainpage: action.data\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default reducer;","import React, { useState, useEffect } from 'react';\r\nimport styled from 'styled-components'\r\n\r\nimport InputPageInfo from '../components/InputPageInfo';\r\n\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setSubpageNum, setSubTitle } from '../reducers/datas';\r\n\r\nconst MakeSubBlock = styled.div`\r\n    flex-direction: row; \r\n    &+&{\r\n        margin-left: 10px;\r\n    }\r\n`;\r\n\r\nconst InputNum = styled.input`\r\n    width: 30px;\r\n    line-height: 30px;\r\n    text-align: right;\r\n    margin-right: 5px;\r\n`;\r\n\r\nconst InputTitle = styled.input`\r\n    flex:1;\r\n    line-height: 30px;\r\n`;\r\n\r\nconst MakeSub = ({cnt})=>{\r\n    const datas = useSelector((state)=>state.datas);\r\n    const subpage = useSelector((state)=>state.datas.subpage);\r\n    const subTitle = useSelector((state)=>state.datas.subtitle);\r\n    const [sub, setSub] = useState(datas);\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const onChangeNum = (e)=>{\r\n        let _subpage = subpage.map((page, idx)=>{\r\n            if(idx === (cnt-1)) return e.target.value*1;\r\n            else return page;\r\n        });\r\n        setSub({\r\n            ...sub,\r\n            subpage: _subpage,\r\n            cnt: cnt\r\n        });\r\n    }\r\n\r\n    const onChangeTitle = (e)=>{\r\n        let _title = subTitle.map((title, idx)=>{\r\n            if(idx === (cnt-1)) return e.target.value;\r\n            else return title;\r\n        });\r\n        dispatch(setSubTitle(_title));\r\n    }\r\n   \r\n    useEffect(()=> {\r\n        dispatch(setSubpageNum(sub.subpage));\r\n    }, [sub]);\r\n    \r\n    return(\r\n        <MakeSubBlock>\r\n            <div>\r\n                <h3>상세{cnt}</h3>\r\n                <InputNum value={subpage[cnt-1]} type=\"number\" min=\"0\" onChange={onChangeNum}/>\r\n                <InputTitle onChange={onChangeTitle} value={subTitle[cnt-1]} style={{background:\"#eee\", border:\"1px solid #aaa\", borderRadius:\"2px\"}}/>\r\n            </div>\r\n            <InputPageInfo page={subpage[cnt-1]} pageNum={cnt} />\r\n        </MakeSubBlock>\r\n    );\r\n}\r\n\r\nexport default MakeSub;","import React, {useState} from 'react';\r\nimport MakeSub from './MakeSub';\r\nimport styled from 'styled-components';\r\n\r\nconst SelectPageBlock = styled.section`\r\n    display: flex;\r\n    padding-bottom: 20px !important;\r\n`;\r\n\r\nconst SelectPage = ()=>{\r\n\r\n    const [pages, setPages] = useState({\r\n        state: true,\r\n        cnt: 4,\r\n    });\r\n\r\n    return(\r\n        <SelectPageBlock>\r\n            {Array(pages.cnt).fill('a').map((hello, idx)=>\r\n                <MakeSub \r\n                    cnt={idx+1} \r\n                    key={idx} \r\n                />\r\n            )}\r\n        </SelectPageBlock>\r\n    );\r\n}\r\n\r\nexport default SelectPage;","import React, {useState} from 'react';\r\nimport styled from 'styled-components';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setPageBranch, setSubTitle } from '../reducers/datas';\r\n\r\nconst BranchBlock = styled.section`\r\n    display: flex;\r\n    align-items: center;\r\n`;\r\n\r\nconst Branch = styled.div`\r\n    padding: 10px;\r\n    display: flex;\r\n    align-items: center;\r\n    border: 2px solid #aaa;\r\n    border-radius: 5px;\r\n    color: #aaa;\r\n    cursor: pointer;\r\n\r\n    &+&{\r\n        margin-left: 20px;\r\n    }\r\n`;\r\n\r\nconst SelectBranch = ()=>{\r\n    const [nowBranch, setBranch] = useState({\r\n        code: 'bd',\r\n        text: '분당'\r\n    });\r\n\r\n    const datas = useSelector((state)=>state.datas.subtitle);\r\n\r\n    const dispatch = useDispatch();\r\n    const onSetBranch = (br) => {\r\n        dispatch(setPageBranch({\r\n            code: br.br,\r\n            text: br.text\r\n        }));\r\n        setBranch({\r\n            code: br.br,\r\n            text: br.text\r\n        });\r\n        dispatch(setSubTitle(datas.map((data, idx)=>\r\n            idx === 3?`${br.text}의 부엌`:data\r\n        )));\r\n    };\r\n    \r\n    const branchList = [\r\n        {\r\n            text:'분당',\r\n            br: 'bd'\r\n        }, \r\n        {\r\n            text:'수원',\r\n            br: 'sw'\r\n        }, \r\n        {\r\n            text:'원주',\r\n            br: 'wj'\r\n        }, \r\n        {\r\n            text:'평택',\r\n            br: 'pt'\r\n        }\r\n    ];\r\n\r\n    return(\r\n        <BranchBlock>\r\n            <h3>지점선택</h3>\r\n            {branchList.map((branch, idx)=>\r\n                <Branch \r\n                    key={idx} \r\n                    onClick={()=>onSetBranch(branch)}\r\n                    style={{\r\n                        borderColor: (nowBranch.code === branch.br)&&'#222',\r\n                        color: (nowBranch.code === branch.br)&&'#222'\r\n                    }}\r\n                >\r\n                    {branch.text}\r\n                </Branch>\r\n            )}\r\n        </BranchBlock>\r\n    );\r\n}\r\n\r\nexport default SelectBranch;","import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport XLSX from 'xlsx';\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst Button = styled.button`\r\n    width: 100%;\r\n    line-height: 50px;\r\n    margin: 50px 0 30px;\r\n    background: #aaa;\r\n    border-radius: 10px;\r\n    color: #fff;\r\n    border: none;\r\n    font-size: 20px;\r\n    cursor: pointer;\r\n    &:hover{\r\n        background: #858585;\r\n    }\r\n`;\r\n\r\nconst ExportExcel = ({couponArrTxt}) => {\r\n\r\n    const br = useSelector((state)=>state.datas.br);\r\n    const subTitle = useSelector((state)=>state.datas.subtitle);\r\n    const mainNum = useSelector((state)=>state.datas.mainpage);\r\n\r\n    const [mainData, setMainData] = useState([\r\n        [\r\n            'mainBannerLength', mainNum\r\n        ],\r\n        [\r\n            'naviTitle', subTitle.slice(0, mainNum).join(' | ')\r\n        ]\r\n    ]);\r\n\r\n    const [data, setData] = useState([\r\n        {\r\n            menuGroup:'',\r\n            slides:'',\r\n        },\r\n        {\r\n            menuGroup:'',\r\n            slides:'',\r\n        },\r\n        {\r\n            menuGroup:'',\r\n            slides:'',\r\n        },\r\n        {\r\n            menuGroup:'',\r\n            slides:'',\r\n        }\r\n    ]);\r\n\r\n    useEffect(()=>{\r\n        setMainData([\r\n            [\r\n                'mainBannerLength', mainNum\r\n            ],\r\n            [\r\n                'naviTitle', subTitle.slice(0, mainNum).join(' | ')\r\n            ]\r\n        ]);\r\n    }, [subTitle, mainNum]);\r\n    \r\n  const exportData = ()=>{\r\n    Array(data.length).fill('a').forEach((hello, idx)=>{\r\n        const sub = document.querySelectorAll(`.sub${idx+1}`);\r\n        let subText='';\r\n        sub.forEach((sub)=>{\r\n            subText += sub.value+' | '\r\n        })\r\n        data[idx].slides = subText.substr(0, subText.length-3);\r\n        data[idx].menuGroup = subTitle[idx];\r\n    });\r\n    \r\n    exportDataToXlsx(data, mainData, couponArrTxt, `ak_${br.code}`);\r\n  }\r\n\r\n  const exportDataToXlsx = ( data, mainData, couponData, filename ) => { \r\n      const new_workbook = XLSX.utils.book_new(); // excel 파일에 해당\r\n\r\n      const worksheetMain = XLSX.utils.json_to_sheet(mainData); // excel sheet하단의 worksheet에 해당 \r\n      XLSX.utils.book_append_sheet(new_workbook, worksheetMain, 'main'); // excelsheet를 excel파일에 넣음 \r\n\r\n      const worksheetSub = XLSX.utils.json_to_sheet(data);\r\n      XLSX.utils.book_append_sheet(new_workbook, worksheetSub, 'sub');\r\n\r\n      const worksheetCoupon = XLSX.utils.json_to_sheet(couponData); \r\n      XLSX.utils.book_append_sheet(new_workbook, worksheetCoupon, 'coupon'); \r\n\r\n\r\n      XLSX.writeFile(new_workbook, filename + '.xlsx'); \r\n  }\r\n\r\n  return <Button onClick={exportData}>Export</Button>\r\n};\r\n\r\nexport default ExportExcel;","import React, { useState } from 'react';\r\nimport styled from 'styled-components';\r\n\r\nimport Coupon from '../containers/Coupon';\r\nimport SelectPage from '../containers/SelectPage';\r\nimport SelectBranch from '../components/SelectBranch';\r\nimport ExportExcel from '../components/ExportExcel';\r\n\r\nconst MainPageBlock = styled.div`\r\n  margin: 20px;\r\n  section{\r\n    background: #fff;\r\n    padding: 10px 20px;\r\n    margin: 10px 0;\r\n    border-radius: 10px;\r\n\r\n    h3{\r\n        margin-right: 20px;\r\n    }\r\n  }\r\n`;\r\n\r\nconst MainPage = () => {\r\n  \r\n  const [couponArrTxt, setCouponArrTxt] = useState([]);\r\n\r\n  return (\r\n    <MainPageBlock>\r\n      <SelectBranch />\r\n      <SelectPage />\r\n      <Coupon \r\n        couponArrTxt={couponArrTxt} \r\n        setCouponArrTxt={setCouponArrTxt}\r\n      />\r\n      <ExportExcel \r\n        couponArrTxt={couponArrTxt} \r\n      />\r\n    </MainPageBlock>\r\n  );\r\n};\r\n\r\nexport default MainPage;","import MainPage from './pages/MainPage';\r\n\r\nfunction App() {\r\n  return (\r\n    <MainPage />\r\n  );\r\n}\r\n\r\nexport default App; \r\n","import { combineReducers } from 'redux';\r\nimport datas from './datas';\r\n\r\nconst rootReducer = combineReducers({\r\n    datas\r\n});\r\n\r\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\nimport rootReducer from './reducers';\nimport { composeWithDevTools } from 'redux-devtools-extension';\n\nconst store = createStore(rootReducer, composeWithDevTools()); // 스토어를 만듭니다.\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);"],"sourceRoot":""}